<!doctype html>
<html lang="vi" style="min-height: 100vh;">

<head>
  <title>Conceptual Search</title>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  
  <link rel="stylesheet" href="../static/node_modules/material-icons/iconfont/material-icons.css">
  <link rel="stylesheet" href="../static/assets/css/material-kit.css?v=2.0.4" />
</head>

<body style="min-height: 100vh;">
  <div style="background-image: url('../static/assets/img/images.jpeg'); background-repeat: repeat" class="h-100">
    <div class="container">

      <div class="row justify-content-center">
        <div class="col-lg-9">
          <div class="container-fluid">
            <div class="row justify-content-center">
              <div class="col-lg-9">
                <div class="card w-100">
                  <form action="/search" method="GET" class="navbar-form mb-0" id="search_form" autocomplete="off">
                    <div class="card-body">
                      <div class="input-group w-100">
                        <input type="text" name="query" class="form-control mw-100 p-0" value="{{ query | replace('_', ' ') }}" placeholder="Tìm kiếm...">
                        <button type="submit" class="btn btn-white btn-round btn-just-icon m-0 ml-3">
                          <span class="material-icons text-primary">search</span>
                        </button>
                      </div>
                    </div>
                  </form>
                </div>    
              </div>
            </div>
          </div>
        </div>
      </div>
      <hr>
      <div class="row justify-content-around">

        <div class="col-lg-9">
          <div class="card">
            <div id="data-container" class="card-body" >
              <div class="h4">
              Kết quả tìm kiếm cho từ khóa: {{ query | replace('_', ' ') }} ({{ total }} kết quả.) 
              </div>
              {% for row in rows%}
              <div class="py-1">
                <a href={{ row.url[0] | striptags }}">
                  <h4 class="mb-0">{{ row.title | replace('_', ' ') | safe}}</h4>
                  <div class="d-inline-block">
                    <cite>{{ row.url[0] }}</cite>
                  </div>
                </a>
                <p class="mt-2">
                  {{ row.description | replace('_', ' ') | safe}}
                </p>
                <hr/>
              </div>
              {% endfor %}
            </div>
            <div class="card-footer justify-content-center ">
              <nav id="pagination-container">
                <ul class="pagination">
                  <li class="page-item {{ 'disabled' if cp == 1 else '' }}"><a class="page-link " href="/search?query={{ query }}&start={{ (cp - 2) * n_rows }}&rows={{ n_rows }}">Trang trước</a></li>
                  {% for page in range(fp, lp + 1)  %}
                    <li class="page-item {{ 'active' if cp == page else '' }}"><a class="page-link " href="/search?query={{ query }}&start={{ (page - 1) * n_rows }}&rows={{ n_rows  }}">{{ page }}</a></li>
                  {% endfor %}
                  <li class="page-item {{ 'disabled' if cp == n_pages else '' }}"><a class="page-link " href="/search?query={{ query }}&start={{ cp * n_rows }}&rows={{ n_rows  }}">Trang sau</a></li>
                </ul>
              </nav>
            </div>
          </div>
            
        </div>
        <!-- <div class="col&#45;lg&#45;3"> -->
        <!--   <div class="card"> -->
        <!--     <div class="card&#45;body"> -->
        <!--       <div class="input&#45;group"> -->
        <!--         <p>Select model implementation method:</p> -->
        <!--       </div> -->
        <!--       <div class="input&#45;group col&#45;lg&#45;8"> -->
        <!--         <div class="form&#45;check form&#45;check&#45;radio form&#45;check&#45;inline"> -->
        <!--           <label class="form&#45;check&#45;label"> -->
        <!--             <input class="form&#45;check&#45;input" type="radio" name="inlineRadioOptions" value="1" checked> Word2Vec -->
        <!--             <span class="circle"> -->
        <!--               <span class="check"></span> -->
        <!--             </span> -->
        <!--           </label> -->
        <!--         </div> -->
        <!--         <div class="form&#45;check form&#45;check&#45;radio form&#45;check&#45;inline"> -->
        <!--           <label class="form&#45;check&#45;label"> -->
        <!--             <input class="form&#45;check&#45;input" type="radio" name="inlineRadioOptions" value="2" disabled> LSA -->
        <!--             <span class="circle"> -->
        <!--               <span class="check"></span> -->
        <!--             </span> -->
        <!--           </label> -->
        <!--         </div> -->
        <!--         <div class="form&#45;check form&#45;check&#45;radio form&#45;check&#45;inline"> -->
        <!--           <label class="form&#45;check&#45;label"> -->
        <!--             <input class="form&#45;check&#45;input" type="radio" name="inlineRadioOptions" value="3" disabled> Lesk -->
        <!--             <span class="circle"> -->
        <!--               <span class="check"></span> -->
        <!--             </span> -->
        <!--           </label> -->
        <!--         </div> -->
        <!--       </div> -->
        <!--     </div> -->
        <!--   </div> -->
        <!-- </div> -->
      </div>
    </div>  
  </div>
  
  <!--   Core JS Files   -->
  <script src="../static/assets/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="../static/assets/js/core/popper.min.js" type="text/javascript"></script>
  <script src="../static/assets/js/core/bootstrap-material-design.min.js" type="text/javascript"></script>
  <script src="../static/assets/js/material-kit.js?v=2.0.4" type="text/javascript"></script>
<!--   <script charset="utf&#45;8"> -->
<!--     var query = {{ query }} -->
<!--     var data_container = $('#data&#45;container'); -->
<!--     var pagination_container = $('#pagination&#45;container'); -->
<!--  -->
<!--     function range(start = 0, end){ -->
<!--     	return [...Array(end &#45; start).keys()].map(i => i + start); -->
<!-- 		} -->
<!--      -->
<!--     function format_content(item){ -->
<!--       return  `<div class="py&#45;1"> -->
<!--                 <a href="${item.url}"> -->
<!--                   <h4 class="mb&#45;0">${item.title}</h4> -->
<!--                   <div class="d&#45;inline&#45;block"> -->
<!--                     <cite>${item.url}</cite> -->
<!--                   </div> -->
<!--                 </a> -->
<!--                 <p class="mt&#45;2"> -->
<!--                   ${item.description} -->
<!--                 </p> -->
<!--                 <hr/> -->
<!--               </div>` -->
<!--     } -->
<!--  -->
<!--     function format_pagination(current, total, visible){ -->
<!--       var pp = current > 1 ? `<li class="page&#45;item"><a class="page&#45;link" onclick="selectPage(${current &#45; 1})">Trang trước</a></li>` : `<li class="page&#45;item disabled"><a class="page&#45;link">Trang trước</a></li>`; -->
<!--       var np = current < total ? `<li class="page&#45;item"><a class="page&#45;link" onclick="selectPage(${current + 1})">Trang sau</a></li>` : `<li class="page&#45;item disabled"><a class="page&#45;link">Trang sau</a></li>`; -->
<!--       var r = Math.floor(visible/2); -->
<!--       var start = current > r ? r : 1; -->
<!--       var end = start + visible < total ? start + visible : total; -->
<!--  -->
<!--       return `<ul class="pagination"> -->
<!--                 ${pp} -->
<!--                 ${range(start, end + 1).map(item => `<li class="page&#45;item ${item === current ? 'active': ''}"><a class="page&#45;link" onclick="selectPage(${item})">${item}</a></li>`).join('')} -->
<!--                 ${np} -->
<!--               </ul>` -->
<!--     } -->
<!--  -->
<!--     function displayData(page, n_pages, data) -->
<!--     { -->
<!--         var content = ""; -->
<!--         for (var i = (page&#45;1) * records_per_page; i < (page * records_per_page) &#38;&#38; i < data.length; i++) { -->
<!--             content += format_content(data[i]) + '\n' ; -->
<!--         } -->
<!--         data_container.html(content); -->
<!--  -->
<!--         var pagination = format_pagination(page, n_pages, 3); -->
<!--         pagination_container.html(pagination); -->
<!--     } -->
<!--  -->
<!--     // window.onload = function() { -->
<!--     //     selectPage(1); -->
<!--     // }; -->
<!--  </script> -->
</body>
</html>
